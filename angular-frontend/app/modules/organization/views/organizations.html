<div class="panel panel-default yep-card">
    <!--HAV HEADING-->
    <div class="panel-heading card-head">
        <ng-include src="'app/templates/table-header.tmpl.html'"></ng-include>
    </div>
    <!--HAV HEADING-->
    <div class="panel-body">
        <div class="res-table">
            <table class="table table-striped table-hover table-fixed ellipsis-table">
                <thead class="thead-default">
                <tr>
                    <th class="text text-primary text-uppercase text-center" width="2%">
                        <i class="glyphicon glyphicon-pushpin"></i>
                    </th>
                    <th width="15%">
                        <a class="text text-primary text-uppercase" style="cursor:n-resize"
                           ng-click="sortType = 'name'; sortReverse = !sortReverse">
                            {{"organization.table.name" | translate}}
                            <span ng-show="sortType == 'name' && !sortReverse" class="fa fa-caret-down"></span>
                            <span ng-show="sortType == 'name' && sortReverse" class="fa fa-caret-up"></span>
                        </a>
                    </th>
                    <th class="text text-center text-primary text-uppercase" width="5%">
                        <a>
                            {{"organization.table.description" | translate}}
                        </a>
                    </th>
                    <th width="11%">
                        <a class="text text-primary text-uppercase" style="cursor:n-resize"
                           ng-click="sortType = 'city'; sortReverse = !sortReverse">
                            {{"organization.table.city" | translate}}
                            <span ng-show="sortType == 'city' && !sortReverse" class="fa fa-caret-down"></span>
                            <span ng-show="sortType == 'city' && sortReverse" class="fa fa-caret-up"></span>
                        </a>
                    </th>
                    <th width="15%">
                        <a class="text text-primary text-uppercase" style="cursor:n-resize"
                           ng-click="sortType = 'street'; sortReverse = !sortReverse">
                            {{"organization.table.street" | translate}}
                            <span ng-show="sortType == 'street' && !sortReverse" class="fa fa-caret-down"></span>
                            <span ng-show="sortType == 'street' && sortReverse" class="fa fa-caret-up"></span>
                        </a>
                    </th>
                    <th width="7%">
                        <a class="text text-primary text-uppercase" style="cursor:n-resize"
                           ng-click="sortType = 'phone'; sortReverse = !sortReverse">
                            {{"organization.table.phone" | translate}} <span
                                ng-show="sortType == 'phone' && !sortReverse" class="fa fa-caret-down"></span>
                            <span ng-show="sortType == 'phone' && sortReverse" class="fa fa-caret-up"></span>
                        </a>
                    </th>
                    <th class="text-center" width="4%">
                        <a class="text text-primary text-uppercase" style="cursor:n-resize"
                           ng-click="sortType = 'type'; sortReverse = !sortReverse">
                            {{"organization.table.type" | translate}} <span
                                ng-show="sortType == 'type' && !sortReverse" class="fa fa-caret-down"></span>
                            <span ng-show="sortType == 'type' && sortReverse" class="fa fa-caret-up"></span>
                        </a>
                    </th>
                    <!--   <th width="5%">
                           <a class="text text-primary text-uppercase" style="cursor:n-resize"
                              ng-click="sortType = 'partners'; sortReverse = !sortReverse">
                               {{"organization.table.partners" | translate}} <span
                                   ng-show="sortType == 'partners' && !sortReverse" class="fa fa-caret-down"></span>
                               <span ng-show="sortType == 'partners' && sortReverse" class="fa fa-caret-up"></span>
                           </a>
                       </th>-->
                    <th class="text text-center text-primary text-uppercase" width="3%">
                        <a>
                            {{"organization.table.web" | translate}}
                        </a>
                    </th>

                    <th class="text-center text-uppercase" width="4%" show-if-has-permit="view_organization">
                        <a class="text text-primary text-uppercase" style="cursor:n-resize"
                           ng-click="sortType = 'status'; sortReverse = !sortReverse">
                            {{"organization.table.status" | translate}} <span
                                ng-show="sortType == 'status' && !sortReverse" class="fa fa-caret-down"></span>
                            <span ng-show="sortType == 'status' && sortReverse" class="fa fa-caret-up"></span>
                        </a>
                    </th>
                    <th class="text text-center text-primary text-uppercase" width="8%">
                        <a class="text text-primary" style="cursor:n-resize"
                           ng-click="sortType = 'created_at'; sortReverse = !sortReverse">
                            {{"organization.table.created_at" | translate}} <span
                                ng-show="sortType == 'created_at' && !sortReverse" class="fa fa-caret-down"></span>
                            <span ng-show="sortType == 'created_at' && sortReverse" class="fa fa-caret-up"></span>
                        </a>
                    </th>
                    <th class="text text-center text-primary text-uppercase" width="4%">
                        <a>
                            {{"organization.table.actions" | translate}}
                        </a>
                    </th>
                </tr>
                </thead>
                <tbody>
                <!--| orderBy:sortType:sortReverse | filter:searchItem-->
                <tr ng-repeat="organization in organizations | orderBy:sortType:sortReverse | filter:searchItem">
                    <!--CheckBox-->
                    <td class="text-center">
                        <div class="checkbox checkbox-primary">
                            <input id="{{organization.id}}" type="checkbox" class="conchkNumber"
                                   value="{{organization.name}}"
                                   ng-checked="selection.indexOf(organization.id) > -1"
                                   ng-click="toggleSelection(organization.id)">
                            <label class="" for="{{organization.id}}">
                            </label>
                        </div>
                    </td>
                    <!--Name-->
                    <td class="">
                        <a href="" data-target="#" ui-sref="admin.viewOrganization({id:organization.id})">{{organization.name}}</a>
                    </td>
                    <!--Description-->
                    <td class="text-center">
                    <span class="text  text-warning" ng-if="!organization.description">
                        {{"app.shared.common.no_description" | translate}}
                    </span>
                        <button ng-if="organization.description"
                                class="btn btn-default  btn-circle"
                                data-placement="bottom"
                                data-toggle="popover"
                                title=""
                                data-content="{{organization.description}}"
                                data-trigger="hover"><span class="caret"></span>
                        </button>
                    </td>
                    <!--Address-->
                    <td>{{organization.city}}</td>
                    <!--Street-->
                    <td>{{organization.street}}</td>
                    <!--Phone-->
                    <td>{{organization.phone}}</td>
                    <!--Type-->
                    <td class="">{{organization.type}}</td>
                    <!--Partners-->
                    <!--        <td class="text-center">
                                <div class="dropdown btn-group" ng-show="organization.id == partner.organization_id"
                                     ng-repeat="partner in partners">
                                    <button class="btn btn-default btn-sm dropdown-toggle" type="button" data-toggle="dropdown">
                                        <span class="caret"></span></button>
                                    <ul class="dropdown-menu">
                                        <li class="text-center">
                                            <p>{{partner.name}}</p>
                                        </li>
                                    </ul>
                                </div>
                            </td>-->
                    <!--Web-->
                    <td class="text-center">
                        <a class="btn btn-default" target="_blank" ng-href="{{organization.website}}">
                            <i class="glyphicon  glyphicon-home"></i>
                        </a>
                    </td>
                    <!--Status-->
                    <td class="text text-center" show-if-has-permit="delete_organization">
                        <input ng-click="activate(organization)"
                               id="{{organization.name}}" class="yep-toggle yep-toggle-round-flat yep-success"
                               ng-checked="organization.status == 1" type="checkbox">
                        <label for="{{organization.name}}"></label>
                    </td>
                    <!--Status for managers-->
                    <td class="text text-center" show-if-has-permit="view_organization_for_managers">
                         <span class="text text-warning" ng-show="!organization.status">
                                 {{"organization.table.not_active" | translate}}</span>
                        <span class="text text-success" ng-show="organization.status == 1">
                                                                 {{"organization.table.active" | translate}}
                             </span>
                        <span class="text text-danger" ng-show="organization.status == 2">
                                                                 {{"organization.table.deleted" | translate}}
                             </span>
                    </td>
                    <!--Create At-->

                    <td class="text-center">{{organization.created_at | date:'yyyy-MM-dd HH:mm:ss Z'}}</td>
                    <!--Actions-->
                    <td class="text-center">
                        <div class=" action-buttons">
                            <a class="blue" href="#" show-if-has-permit="view_organization"
                               ui-sref="admin.viewOrganization({id:organization.id})">
                                <i class="fa fa-eye bigger-130" title="{{'organization.table.view' | translate}}"></i>
                            </a>
                            <a class="gray" ui-sref="admin.editOrganization({id:organization.id})"
                               show-if-has-permit="edit_organization">
                                <i class="fa fa-pencil-square-o" title="{{'organization.table.edit' | translate}}"></i>
                            </a>
                            <a ng-click="delete(selection)" show-if-has-permit="delete_organization"
                               style="cursor: pointer">
                                <i class="fa fa-trash red" title="{{'organization.table.delete' | translate}}"></i>
                                <span class="badge pull-right"></span>
                            </a>
                        </div>
                    </td>
                </tr>
                </tbody>
            </table>
        </div>
        <div class="text-center">
            <uib-pagination ng-show="pagination.total>10" total-items="pagination.total"
                            ng-model="pagination.current_page" max-size="maxSize" class="pagination"
                            boundary-links="true" rotate="false" ng-change="pageChanged(perPage)"
                            items-per-page="pagination.per_page"></uib-pagination>
        </div>
    </div>
</div>

